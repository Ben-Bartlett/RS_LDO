#!/bin/bash

curl 'https://northeurope1-mediap.svc.ms/transform/zip?cs=fFNQTw' -X POST -H 'User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/113.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Origin: https://ulcampus-my.sharepoint.com' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' -H 'Sec-Fetch-Dest: iframe' -H 'Sec-Fetch-Mode: navigate' -H 'Sec-Fetch-Site: cross-site' -H 'TE: trailers' --data-raw 'zipFileName=Data.zip&guid=cf722e0b-d542-4745-9b26-329f64e47bec&provider=spo&files=%7B%22items%22%3A%5B%7B%22name%22%3A%22Data%22%2C%22size%22%3A0%2C%22docId%22%3A%22https%3A%2F%2Fulcampus-my.sharepoint.com%3A443%2F_api%2Fv2.0%2Fdrives%2Fb%217EBgFLJhfkqQMlvmC0Pekhg3anbWNclJvxleWEFgOTk1VjiWmEZxS74cD7NDhKX2%2Fitems%2F01PPBRUX6SDAYD6SMKWNCKI6CSWZCP5FTZ%3Fversion%3DPublished%26access_token%3Dv1.eyJzaXRlaWQiOiIxNDYwNDBlYy02MWIyLTRhN2UtOTAzMi01YmU2MGI0M2RlOTIiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvdWxjYW1wdXMtbXkuc2hhcmVwb2ludC5jb21AMDA4NGI5MjQtM2FiNC00MTE2LTkyNTEtOTkzOWY2OTVlNTRjIiwiZXhwIjoiMTcxOTg4OTIwMCJ9.CggKA3N0cBIBdAoKCgRzbmlkEgIzMxIGCNqoOhABGicyYTAxOmNiMWQ6OGMxNTpmZTAwOmUxZTU6M2IwMzoyODhhOjcwMDciFG1pY3Jvc29mdC5zaGFyZXBvaW50KixySkZTcm5zRDlDOUxvZjRlc0Q2UlZld3ZwV0JFQnRiZnplV08reUxGZE9jPTB2OAFKEGhhc2hlZHByb29mdG9rZW5iBHRydWVqJDExZDI2OWEzLWY0MjYtNDYwMy05OTlkLTFiMDc1ZGYwYzVmZXIpMGguZnxtZW1iZXJzaGlwfDEwMDMyMDAwZDVlNzBmYTlAbGl2ZS5jb216ATDCASowIy5mfG1lbWJlcnNoaXB8MTcyMTgxODdAc3R1ZGVudG1haWwudWwuaWU.Xr20ixOCBFDe4u0qlOTz9HOkE5clN5wLXyrlpIcNDGE%22%2C%22isFolder%22%3Atrue%7D%5D%7D&oAuthToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1HTHFqOThWTkxvWGFGZnBKQ0JwZ0I0SmFLcyIsImtpZCI6Ik1HTHFqOThWTkxvWGFGZnBKQ0JwZ0I0SmFLcyJ9.eyJhdWQiOiJodHRwczovL25vcnRoZXVyb3BlMS1tZWRpYXAuc3ZjLm1zIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMDA4NGI5MjQtM2FiNC00MTE2LTkyNTEtOTkzOWY2OTVlNTRjLyIsImlhdCI6MTcxOTg3MjQ4MywibmJmIjoxNzE5ODcyNDgzLCJleHAiOjE3MTk4NzY0OTMsImFjciI6IjEiLCJhY3JzIjpbInVybjp1c2VyOnJlZ2lzdGVyc2VjdXJpdHlpbmZvIl0sImFpbyI6IkFVUUF1LzhYQUFBQTl2VnhGT2xOaUpWMThac1NRV3J0elVuTGp6ZXFzd3FVYll0M0NwcURBVXhLMDNwcUdveWxxNGgzUDRSVmNrM0FTc1RWMmpMcXk0NCtlOFpKRUNUUGh3PT0iLCJhbXIiOlsicHdkIiwibWZhIl0sImFwcF9kaXNwbGF5bmFtZSI6Ik9mZmljZSAzNjUgU2hhcmVQb2ludCBPbmxpbmUiLCJhcHBpZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMCIsImFwcGlkYWNyIjoiMiIsImF1dGhfdGltZSI6MTcxOTg3MTczMiwiZmFtaWx5X25hbWUiOiJCQVJUTEVUVCIsImdpdmVuX25hbWUiOiJCRU4iLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIyYTAxOmNiMWQ6OGMxNTpmZTAwOmUxZTU6M2IwMzoyODhhOjcwMDciLCJuYW1lIjoiVUxQRzpCQVJUTEVUVC5CRU4iLCJvaWQiOiIzZTQzNjFiOC1mN2VhLTQ5ODAtYWIwOC01ZmRlZGFlNDJlZWUiLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTc1ODY4MzIxOC0yOTgxMTgzMjY3LTI3NjQzMTI4NDYtMzYyMjIxIiwicHVpZCI6IjEwMDMyMDAwRDVFNzBGQTkiLCJyaCI6IjAuQVRrQUpMbUVBTFE2RmtHU1VaazU5cFhsVE5FTFQ1UjdFUnhMcnlhQVR0bGVkbjdnQU9RLiIsInNjcCI6IlNpdGVzLm1hbmFnZS5BbGwiLCJzdWIiOiJuM1c3MzNhZHFSNl85dk0tX1FpT2pjVnFMcUZQSEdWZDhxenBHeWI3QzFRIiwidGlkIjoiMDA4NGI5MjQtM2FiNC00MTE2LTkyNTEtOTkzOWY2OTVlNTRjIiwidW5pcXVlX25hbWUiOiIxNzIxODE4N0BzdHVkZW50bWFpbC51bC5pZSIsInVwbiI6IjE3MjE4MTg3QHN0dWRlbnRtYWlsLnVsLmllIiwidXRpIjoiWWRUMzUwSmxua3VXb012UktMQUNBQSIsInZlciI6IjEuMCIsInhtc19pZHJlbCI6IjEyIDEifQ.ZrH_kZt75D_FoBfLXC3KO4sbZmbTjzFFLfYQRcaP-XTAoI4lhROsjbZy1ReGRSC-nyWIploGEwfiHYTHujQeM8NxhscnlbyM9kR0cFJRJL_vgyfxcXETDKQp9BbmhkJfiEWmkL3I7mEPVDB3DqTvjuJDHOt_Kxg0l9QMbgsVwW04-4M8a9vh200yRraC306krYFubpKCnCtGxnltKc_53JeXWBsRhiyU-X6Fsvou7UFaSrU6Dkngd5jTXA1gEEveFhCfsHWlkYSl1FAUaV6IczzBl3ccYmI9conL7KwmMQCVaQyXvLgx8VJbDsYkFyf_nV-j1pvdjv1eT4SmdF455w' -o Zippty.zip;

echo "downloaded folder"

unzip Zippty.zip;

echo "unzipped folder"

rm Zippty.zip;

echo "removed zip folder"



